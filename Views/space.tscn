[gd_scene load_steps=13 format=3 uid="uid://dxfda5ay2mfgn"]

[ext_resource type="Script" uid="uid://cjw87n2iwyru4" path="res://Views/sun.gd" id="1_aujwv"]
[ext_resource type="PackedScene" uid="uid://14p3afxbioib" path="res://Entities/Player/player.tscn" id="1_d5lh8"]
[ext_resource type="Script" uid="uid://bxwk3vr3v8gje" path="res://Views/space.gd" id="1_pu55j"]
[ext_resource type="PackedScene" uid="uid://ckxwhsa8ysdud" path="res://Entities/Bodies/earth.tscn" id="2_81phd"]
[ext_resource type="Environment" uid="uid://bus24w32avav2" path="res://Views/BaseEnvironment.tres" id="2_pu55j"]
[ext_resource type="PackedScene" uid="uid://dbie15kbtglpv" path="res://Entities/Bodies/asteroid.tscn" id="5_ulv8f"]
[ext_resource type="Script" uid="uid://bfyw00ea7y2dl" path="res://Entities/Utility/spawn_manager.gd" id="6_w5eul"]
[ext_resource type="PackedScene" uid="uid://cc62jnr1trjns" path="res://Entities/Enemies/big_martian.tscn" id="7_aujwv"]
[ext_resource type="PackedScene" uid="uid://n4bmvhrg6lyu" path="res://Entities/Enemies/small_martian.tscn" id="8_pu55j"]
[ext_resource type="PackedScene" uid="uid://btipjhw30yl7r" path="res://Entities/Enemies/elite_small_martian.tscn" id="9_rl073"]
[ext_resource type="PackedScene" uid="uid://0xm7sgbcqsrk" path="res://Entities/Enemies/missile_small_martian.tscn" id="10_pu75q"]

[sub_resource type="Curve" id="Curve_rl073"]
_data = [Vector2(0, 0), 0.0, 0.08651684, 0, 0, Vector2(0.8484848, 0.34831464), 1.0814606, 1.0814606, 0, 0, Vector2(1, 1), 2.9069657, 0.0, 0, 0]
point_count = 3

[node name="Space" type="Node3D"]
script = ExtResource("1_pu55j")
player_scene = ExtResource("1_d5lh8")

[node name="Sun" type="DirectionalLight3D" parent="."]
transform = Transform3D(1.0000002, -2.0699476e-08, 1.7957537e-07, -2.6483379e-08, 0.9659258, 0.25881907, -1.7881393e-07, -0.25881907, 0.9659258, 0, 0, 0)
shadow_enabled = true
script = ExtResource("1_aujwv")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 47)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("2_pu55j")

[node name="Objects" type="Node3D" parent="." groups=["objects"]]

[node name="Earth" parent="Objects" instance=ExtResource("2_81phd")]

[node name="SpawnManager" type="Node3D" parent="Objects" groups=["spawn_manager"]]
script = ExtResource("6_w5eul")
asteroid = ExtResource("5_ulv8f")
big_martian = ExtResource("7_aujwv")
small_martian = ExtResource("8_pu55j")
elite_small_martian = ExtResource("9_rl073")
missile_small_martian = ExtResource("10_pu75q")
difficulty_curve = SubResource("Curve_rl073")

[node name="AsteroidTimer" type="Timer" parent="Objects/SpawnManager"]
wait_time = 10.0
one_shot = true
autostart = true

[node name="SmallMartianTimer" type="Timer" parent="Objects/SpawnManager"]
wait_time = 20.0
one_shot = true
autostart = true

[node name="BigMartianTimer" type="Timer" parent="Objects/SpawnManager"]
wait_time = 120.0
one_shot = true
autostart = true

[node name="EliteSmallMartianTimer" type="Timer" parent="Objects/SpawnManager"]
wait_time = 40.0
one_shot = true
autostart = true

[node name="MissileSmallMartianTimer" type="Timer" parent="Objects/SpawnManager"]
wait_time = 25.0
one_shot = true
autostart = true

[connection signal="timeout" from="Objects/SpawnManager/AsteroidTimer" to="Objects/SpawnManager" method="_on_asteroid_timer_timeout"]
[connection signal="timeout" from="Objects/SpawnManager/SmallMartianTimer" to="Objects/SpawnManager" method="_on_small_martian_timer_timeout"]
[connection signal="timeout" from="Objects/SpawnManager/BigMartianTimer" to="Objects/SpawnManager" method="_on_big_martian_timer_timeout"]
[connection signal="timeout" from="Objects/SpawnManager/EliteSmallMartianTimer" to="Objects/SpawnManager" method="_on_elite_small_martian_timer_timeout"]
[connection signal="timeout" from="Objects/SpawnManager/MissileSmallMartianTimer" to="Objects/SpawnManager" method="_on_missile_small_martian_timer_timeout"]
